# Утилита распределения номеров 
## Общие замечания
Эта утилита создается с одной целью - сделать получение номеров для медицинских карт в моей
 амбулаторной практике значительно проще. На данный момент ни одна из атоматизированных 
 систем помощи врачу не удовлетворяет этому требоанию - приходится брать бумажку с номерами, 
 выбирать его от туда, вычеркивать, и не потерять при этом несчастную бумажку 
 (что происходит достаточно часто, к сожалению). Введение электронного документооборота в 
 провинциальных больницах растянулось уже на 7 лет, так что еще минимум год эта программа еще 
 будет актуальна (пока живы собстенно бумажные носители медицинской информации. )
 
 Очень важным считаю поблагодарить моего друга @egigoka за его огромный вклад (точнее за всю разработку
 телеграм-бота и его логики). Без него телеграм-версия выходила бы еще на месяц позже, чем 
 все прочие. 
 ## Телеграм-бот
 По сравнению с утилитой командной строки функциональность бота значительно ограничена. 
 Он может только выдавать номера по порядку. Задавать номера из бота пока не получится 
 (но позже такая функциональность может быть добавлена, если бот станет хоть как-то востребован).
 У него можно запросить неограниченное количество номеров. 
 Но ожидать ответа от программы, если выдано номеров больше 1000, придется некторое время.
 Особенности деплоя бота будут описаны в отдельном пункте. 
 ## Утилита командной строки
В кратце - у CLI-утилиты есть несколько опций (записываются как аргументы командной строки): 
- можно указать количество номеров, которое требуется получить (-n [Int]);
- можно вывести список оставшихся в списке номеров (не в виде диапазонов, а полностью) (-v);
- можно добавить новые номера в список (-a);
- можно очистить список номеров (-c);
- можно выбрать между последовательной выдачей номеров сначала или случайной выдачей 
(генератором псевднослучайных чисел) (-r). 

По умолчанию и без аргументов утилита выдает самый первый в списке номер. 

В этом скрипте нет захардкоденного списка или числа (как в боте). Если при запуске такой список будет отсутствовать,
то скрипт предложит его создать. У пользователя должен быть какой-то выданный ему диапазон номеров
и понимание его логики (если требуется, как в случае странных списков на подобие тех, что в 
больнице автора скрипта используются). 
## Установка утилит
Для использования утилиты командной строки достаточно иметь установленный локально Python3.x,
скопировать папку give_num_cli_legacy к себе на машину и запускать как любой питоновский скрипт 
на своей машине. 
Для деплоя бота также важно, чтобы был установлен, помимо Python3.x, еще и pip3. Крайне важной 
зависимостью является набор библиотек commands (https://github.com/egigoka/commands). 

При первом запуске бот попытается сам все зависимости подтянуть, 
но если он не справится - то следует запустить 
следующую команду: pip3 install git+https://github.com/egigoka/commands. 
На данный момент токен бота захардкоден в зашифрованном виде, так что поменять его нет 
программной возможности. Для использования токена в первый раз нужно будет ввести пароль, для его
расшифроки. 

## Планы разработки
Хотелось бы сделать возможность менять токен программно, изменять число программно. Это минимум. 

## Контакты
Одному из создателей скрипта можно написать на почту: i.nikonoff16@gmail.com, или в Telegram: @nikonoff16


